function EvDa(a){function K(a){return a.match(/[?*]/)}function L(a,b){return K(a)?q(n(b?b:D),function(b){return b.match(a)}):a}function M(a,b){var c={};return d(a)?(k(a,function(a){c[a]=b(a)}),c):b(a)}function N(a){if(a in D)return D[a];var b=a.split("."),c=b.pop(),d=b.join(".");if(d){var e=N(d);if(i(e)&&c in e)return e[c]}}function O(a,c,f,g){if(0===arguments.length)return{data:D,events:J,locks:B,last:I,globs:H};if(d(a)){var h=b.call(arguments,1);return s(a,function(a){return O.apply(O.context,[a].concat(h))})}if(i(a)){var j={};return g=f||{},f=c,g.noexec=1,k(a,function(a,b){j[a]=O(a,b,f,g)}),g.bypass||k(j,function(b,c){e(j[b])&&!e(a[b])&&(a[b]=j[b]())}),S(n(j)[0]),a}return 1==arguments.length?M(a,N):O[e(c)||d(c)&&e(c[0])?w:"set"].apply(this,arguments)}function P(a){k(a.$,function(b){var c=K(b)?H:J;c[b]=o(c[b],a)})}function Q(a,b,c){if(d(a)){var e=a.pop();return Q(L(e),function(c,d){var e=1==a.length?a[0]:a;return Q(e,b,d)},c)}if(i(a))return k(a,function(b,d){K(b)?u(b,M(b,function(a){return Q(b,d,c)})):a[b]=Q(b,d,c)}),a;var f="set"+a;return J[f]&&(J[f](function(b){O.set.call(O.context,a,b,c)}),delete J[f]),b?a in D?b.call(O.context,D[a],c):O(a,b,u(c||{},A)):a in D}function R(a,b,c,d){if(!a.S){var e=a.call(b,c,d);return a.once&&P(a),e}}function S(a){var c=a.split("."),d=c.pop();parts_obj=[],parts_obj[d]=D[a],O.extend.apply(O.context,[c.join("."),parts_obj].concat(b.call(arguments,1)))}var b=Array.prototype.slice,c=Object.prototype.toString,d=[].isArray||function(a){return"[object Array]"===c.call(a)},e=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},f=function(a){return!!(""===a||a&&a.charCodeAt&&a.substr)},g=function(a){return"[object Number]"===c.call(a)},h=function(a){return f(a)||g(a)},i=function(a){return e(a)||f(a)||g(a)||d(a)?!1:null==a?"object"==String(a):"[object Object]"===c.call(a)||!0},j=function(a){return b.call(a)},k=[].forEach?function(a,b){if(h(a))return k([a],b);if(d(a)||a.length)j(a).forEach(b);else for(var c in a)b(c,a[c])}:function(a,b){if(h(a))return k([a],b);if(d(a))for(var c=0,e=a.length;e>c;c++)b(a[c],c);else for(var f in a)b(f,a[f])},l=function(a){return a.length?a[a.length-1]:void 0},m=function(a){var b=[];for(var c in a)b.push(a[c]);return b},n={}.keys||function(a){if(d(a))return a;var b=[];for(var c in a)b.push(c);return b},o=function(a,b){var c=[];return k(a,function(a){a!==b&&c.push(a)}),c},p=function(a){var b,c=[];return k(n(a).sort(),function(a){a!=b&&(b=a,c.push(a))}),c},q=function(a,b){var c=[];return k(a,function(a){b(a)&&c.push(a)}),c},r=function(a){return a&&"length"in a?a.length:0},s=[].map?function(a,b){return a.map(b)}:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(a[d],d));return c},t=function(a){return d(a)?b.call(a):i(a)?u(a,{}):a},u=function(a){return k(b.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},v="first",w="on",x="after",y="or",z=[v,w,x,"test",y],A={once:1},B={},C={},D={},E={},G=[],H={},I={},J={};return k(z,function(a){O[a]=function(c,f,g){if(d(f)){var h=b.call(arguments,2);return s(f,function(b){return O[a].apply(O.context,[c,b].concat(h))})}var i=J;return f?((f.$||(f.$=[])).push(a+c),K(c)&&(i=H),(i[a+c]||(i[a+c]=[])).push(f),k(z,function(a){a in f||(f[a]=function(d){var g=b.call(arguments);return e(d)&&(g=[c].concat(g)),"len"in f||(f[0]=f,f.len=0),f.len++,f[f.len]=O[a].apply(O.context,g),f})}),u(f,g)):i[a+c]}}),u(O,{_:{},context:this,list:{},isPaused:!1,db:D,events:function(a,b){return b?J[b+a]:a?M(z.concat(["set"]),function(b){return J[b+a]}):J},del:P,whenSet:Q,isset:Q,pause:function(){return O.isPaused?!1:(O.isPaused=!0,O._.set=O.set,O.set=function(){G.push(["set",arguments])},!0)},play:function(){if(O.isPaused){O.isPaused=!1;var a=EvDa();return O.set=O._.set,k(G,function(b){a[b[0]].apply(a,b[1])}),G=[],O(a.db),!0}return!1},setter:function(a,b){return J["set"+a]=b,J[w+a]?Q(a):void 0},when:function(a,c,g){if(i(a)){var h={},j={},l=function(a,b){j[b.key]=!1,b()},n=function(a,d){j[d.key]=!0,-1==m(j).indexOf(!1)&&c.apply(O.context,b.call(arguments))};return k(a,function(a,b){h[a+"-test"]=O.test(a,l),h[a]=O.when(a,b,n),j[a]=!1}),h}if(f(c))try{var o=new Function("x","return x"+c);o(),c=o}catch(p){}else if(2==arguments.length)return O.isset(a,c);return O(a,function(a){(d(c)&&c.sort().join("")===a.sort().join("")||e(c)&&c(a)||a===c)&&g.apply(O.context,b.call(arguments))})},empty:function(){for(var a in D)delete D[a]},incr:function(a,b,c){return b=b||1,O.set(a,g(D[a])?D[a]+b:b,c)},decr:function(a,b,c){return b=b||1,O.set(a,D[a]-b||0,c)},push:function(a,b,c){return O.set(a,[].concat(D[a]||[],[b]),c)},pop:function(a,b){return O.set(a,D[a].slice(0,-1),b)},traceList:[],group:function(a){var b=j(arguments),a=b.shift(),c=O.apply(0,b);return O.list[a]||(O.list[a]=[]),e(c)?O.list[a].push(c):k(c,function(b,c){O.list[a].push(b)}),function(){return O.group.apply(0,[a].concat(j(arguments)))}},extend:function(a,c){return O.set.apply(O.context,[a,u({},D[a]||{},c)].concat(b.call(arguments,2)))},count:function(a){return 0===arguments.length?Math.max.apply(this,m(E)):E[a]},set:function(a,c,d,e){e=e||{};var f,g=e.bypass,h=e.coroutine||function(){return!0},i="value"in e,j=e.noexec;if(1==arguments.length){var l=function(){O.set.apply(O.context,[a].concat(b.call(arguments)))};return O.set.call(O.context,a,void 0),l}if(B[a]>0)return k(O.traceList,function(b){b.call(O.context,u({locked:a},o))}),D[a];B[a]=(B[a]||0)+1;try{var n,z,m="test"+a,o=b.call(arguments),p=r(J[m]),q=0,s=p&&!g,A=function(){k(J[y+a]||[],function(a){R(a,O.context,i?e.value:F.value,F,F.meta)})},F=s?function(b){return z|=b===!1,--p?(q++,h(F,!1)?(f=J[m][q].call(O.context,i?e.value:F.value,F,F.meta),(f===!0||f===!1)&&F(f)):A()):z?A():h(F,!0)?O.set(a,F.value,F.meta,{bypass:1}):A(),b}:{};if(F.old=t(D[a]),u(F,{meta:d||{},done:F,result:F,key:a,value:c}),s)B[a]--,C[a]!==!0&&(C[a]=!0,h(F,!1)?(f=J[m][q].call(O.context,i?e.value:F.value,F,F.meta),(f===!0||f===!1)&&F(f)):A(),C[a]=!1),n=D[a];else if(k(O.traceList,function(a){a.call(O.context,o)}),h(F,!0)&&(c=F.value,!e.onlychange||c!==D[a])){e.noset||(D[a]=c,""!=a&&(E[a]=(E[a]||0)+1));var G=arguments,H=function(){return k((J[v+a]||[]).concat(J[w+a]||[]),function(a){F.last=R(a,O.context,c,F)}),a.length>0&&(delete e.coroutine,S.apply(O.context,[a].concat(b.call(G,2)))),k(J[x+a]||[],function(a){F.last=R(a,O.context,c,F)}),I[a]=F.last,c};n=j?H:H.call(O.context)}}catch(K){throw K}finally{B[a]=0}return n},fire:function(a,b){k(a,function(a){O.set(a,D[a],b,{noset:!0})})},once:function(a,b,c){return i(a)&&(a=m(a)),d(a)?s(a,function(a){O.once.call(O.context,a,b,c)}):b?O.once(O(a,b,c)):u(a,A)},enable:function(a){return k(O.list[a],function(b){b.S&&b.S[a]&&delete b.S[a],0==r(b.S)&&delete b.S}),O.list[a]},osetadd:function(a,b,c){var e=D[a]||[];return O(a,b,c,{coroutine:function(a,b){var c=d(a.value)?a.value:[a.value];return a.set=t(e),k(c,function(b){-1==a.set.indexOf(b)&&a.set.push(b)}),b&&(a.value=a.set),e.length!=a.set.length}})},setadd:function(a,b,c){var e=D[a]||[];return O(a,b,c,{coroutine:function(a,b){var c=d(a.value)?a.value:[a.value];return a.set=p(e.concat(c)),b&&(a.value=a.set),e.length!=a.set.length}})},settoggle:function(a,b,c){var d=-1===(D[a]||[]).indexOf(b)?"add":"del";return O["set"+d](a,b,c)},setdel:function(a,b,c){var d=D[a]||[],e=o(d,b);return d.length!=e.length?O(a,e,c,{value:b}):e},disable:function(a){return k(O.list[a],function(b){(b.S||(b.S={}))[a]=!0}),O.list[a]},unset:function(){var a=!0;return k(arguments,function(b){a&=b in D;var g,h,i,c=b.split("."),d="",e=c.length,f=c[e-1];for(g=0;e>g;g++)if(d=c.slice(0,g).join("."),i=D[d]){for(h=g;e-1>h;h++)i=i[c[h]];delete i[f]}delete D[b]}),a},find:function(a){return q(n(D),function(b){return b.match(a)})},changed:function(a,b){return O.on(a,function(a,c){var d=r(a),e=r(c.old);d-e==1?b.call(O.context,l(a)):d>e&&b.call(O.context,j(a).slice(e))})},sniff:function(){var a={},c=+new Date,d=function(b){a[b[0]]||console.log(+new Date-c,b)},e=function(){},g=d;O.traceList.unshift(function(a){g(a)}),O.sniff=function(c){for(var h=b(arguments),i=[];c=h.pop();)f(c)?(a[c]=!a[c],i.push("[Un]ignoring "+c)):(g=c?d:e,i.push(c));return i||n(a)}}}),O.setAdd=O.setadd,O.setToggle=O.settoggle,O.osetAdd=O.osetadd,O.setDel=O.setdel,O.isSet=O.isset,O.get=O,O.change=O.on,O.add=O.push,O.isArray=d,arguments.length>0&&O(a),O}EvDa.__version__="0.1-versioning-added-17-g1d2e866";